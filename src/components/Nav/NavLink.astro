---
import { type navLinkItem } from "@config/navData.json";

interface Props {
	navItem: navLinkItem;
	class?: string;
	href?: string
}

const { href, navItem, class: className } = Astro.props as Props;
const { text, link, newTab = false } = navItem;
const pathname = Astro.url.pathname.replace(import.meta.env.BASE_URL, "");
const subpath = pathname.match(/[^\/]+/g);
const isActive = href === pathname || href === "/" + (subpath?.[0] || "");

// if the current page is the same as the link, we change the styling
---

<li>
	<a
		class:list={[
			`primary-focus hover:text-primary-600 relative block w-full px-4 py-2 font-medium transition ${isActive}`,
			{
				// styling for current active page link
				"text-base-600": Astro.url.pathname === link,
			},
		]}
		href={link}
		target={newTab ? "_blank" : ""}
		rel={newTab ? "noopener noreferrer" : ""}
	>
		{text}
	</a>
</li>
